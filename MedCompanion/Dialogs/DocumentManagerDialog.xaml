<Window x:Class="MedCompanion.Dialogs.DocumentManagerDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="ðŸ“„ Gestionnaire de Documents" 
        Height="700" Width="1000"
        WindowStartupLocation="CenterOwner"
        Background="#F5F5F5">
    
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="15"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="15"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Zone Drag & Drop -->
        <Border Grid.Row="0" 
                x:Name="DropZone"
                Height="150"
                Background="#E3F2FD" 
                BorderBrush="#2196F3" 
                BorderThickness="2"
                CornerRadius="10"
                AllowDrop="True"
                Drop="DropZone_Drop"
                DragOver="DropZone_DragOver"
                DragLeave="DropZone_DragLeave">
            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                <TextBlock Text="ðŸŽ¯ ZONE DRAG &amp; DROP" 
                          FontSize="20" 
                          FontWeight="Bold" 
                          Foreground="#1976D2"
                          HorizontalAlignment="Center"
                          Margin="0,0,0,10"/>
                <TextBlock Text="Glissez vos documents ici" 
                          FontSize="14" 
                          Foreground="#424242"
                          HorizontalAlignment="Center"/>
                <TextBlock Text="(Word, PDF, Images)" 
                          FontSize="12" 
                          Foreground="#757575"
                          HorizontalAlignment="Center"
                          Margin="0,5,0,15"/>
                <Button Content="ðŸ“ ou cliquez pour parcourir..." 
                       Click="BrowseButton_Click"
                       Padding="15,8"
                       Background="#2196F3"
                       Foreground="White"
                       BorderThickness="0"
                       Cursor="Hand"/>
            </StackPanel>
        </Border>
        
        <!-- Liste des documents -->
        <Grid Grid.Row="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="250"/>
                <ColumnDefinition Width="10"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            
            <!-- CatÃ©gories -->
            <Border Grid.Column="0" Background="White" CornerRadius="8" Padding="10">
                <StackPanel>
                    <TextBlock Text="ðŸ“ CatÃ©gories" FontSize="14" FontWeight="Bold" Margin="0,0,0,10"/>
                    <ListBox x:Name="CategoriesListBox" SelectionChanged="CategoriesListBox_SelectionChanged">
                        <ListBoxItem Content="ðŸ“„ Tous" Tag="all" IsSelected="True"/>
                        <ListBoxItem Content="ðŸ“‹ Bilans" Tag="bilans"/>
                        <ListBoxItem Content="ðŸ“ Courriers" Tag="courriers"/>
                        <ListBoxItem Content="âš•ï¸ Ordonnances" Tag="ordonnances"/>
                        <ListBoxItem Content="ðŸ“‘ Attestations" Tag="attestations"/>
                        <ListBoxItem Content="ðŸ”¬ Radiologies" Tag="radiologies"/>
                        <ListBoxItem Content="ðŸ§ª Analyses" Tag="analyses"/>
                        <ListBoxItem Content="ðŸ“„ Autres" Tag="autres"/>
                    </ListBox>
                </StackPanel>
            </Border>
            
            <!-- Documents -->
            <Border Grid.Column="2" Background="White" CornerRadius="8" Padding="15">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    
                    <TextBlock x:Name="DocumentCountLabel" 
                              Text="0 documents" 
                              FontSize="13" 
                              FontWeight="SemiBold"
                              Margin="0,0,0,10"/>
                    
                    <DataGrid x:Name="DocumentsDataGrid"
                             Grid.Row="1"
                             AutoGenerateColumns="False"
                             IsReadOnly="True"
                             SelectionMode="Single"
                             SelectionChanged="DocumentsDataGrid_SelectionChanged"
                             MouseDoubleClick="DocumentsDataGrid_MouseDoubleClick">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Nom" Binding="{Binding FileName}" Width="2*"/>
                            <DataGridTextColumn Header="CatÃ©gorie" Binding="{Binding Category}" Width="*"/>
                            <DataGridTextColumn Header="Date" Binding="{Binding DateAddedDisplay}" Width="1.5*"/>
                            <DataGridTextColumn Header="Taille" Binding="{Binding FileSizeDisplay}" Width="*"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </Border>
        </Grid>
        
        <!-- Boutons -->
        <StackPanel Grid.Row="4" Orientation="Horizontal" HorizontalAlignment="Right">
            <Button x:Name="DeleteDocumentButton"
                   Content="ðŸ—‘ï¸ Supprimer" 
                   Click="DeleteDocumentButton_Click"
                   Height="40"
                   Padding="15,0"
                   Margin="0,0,10,0"
                   FontSize="13"
                   Background="#E74C3C"
                   Foreground="White"
                   BorderThickness="0"
                   Cursor="Hand"
                   IsEnabled="False"/>
            
            <Button x:Name="SynthesisButton"
                   Content="ðŸ“„ SynthÃ¨se" 
                   Click="SynthesisButton_Click"
                   Height="40"
                   Padding="15,0"
                   Margin="0,0,10,0"
                   FontSize="13"
                   Background="#4CAF50"
                   Foreground="White"
                   BorderThickness="0"
                   Cursor="Hand"
                   IsEnabled="False"/>
            
            <Button Content="Fermer" 
                   Click="CloseButton_Click"
                   Height="40"
                   Padding="15,0"
                   FontSize="13"
                   Background="#757575"
                   Foreground="White"
                   BorderThickness="0"
                   Cursor="Hand"/>
        </StackPanel>
    </Grid>
</Window>
