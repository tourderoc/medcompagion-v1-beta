<Window x:Class="MedCompanion.Dialogs.DocumentDropWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="ðŸ“„ Import Documents - Drag &amp; Drop"
        Height="350" Width="450"
        ResizeMode="NoResize"
        WindowStartupLocation="CenterScreen"
        Topmost="True"
        Background="#F5F5F5">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="0,0,0,15">
            <TextBlock x:Name="PatientNameLabel" 
                       Text="Patient: [Nom]" 
                       FontSize="16" 
                       FontWeight="Bold" 
                       Foreground="#2C3E50"
                       Margin="0,0,0,5"/>
            <TextBlock Text="Cette fenÃªtre reste au premier plan pour faciliter le drag &amp; drop" 
                       FontSize="12" 
                       Foreground="#7F8C8D"
                       TextWrapping="Wrap"/>
        </StackPanel>
        
        <!-- Zone Drag & Drop -->
        <Border Grid.Row="1" 
                x:Name="DropZone"
                Background="#E3F2FD" 
                BorderBrush="#2196F3" 
                BorderThickness="3"
                CornerRadius="12"
                AllowDrop="True"
                Drop="DropZone_Drop"
                DragOver="DropZone_DragOver"
                DragLeave="DropZone_DragLeave">
            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                <TextBlock Text="ðŸŽ¯" 
                          FontSize="80" 
                          HorizontalAlignment="Center"
                          Margin="0,0,0,20"/>
                <TextBlock Text="GLISSEZ VOS DOCUMENTS ICI" 
                          FontSize="18" 
                          FontWeight="Bold" 
                          Foreground="#1976D2"
                          HorizontalAlignment="Center"
                          Margin="0,0,0,10"/>
                <TextBlock Text="(Word, PDF, Images, etc.)" 
                          FontSize="13" 
                          Foreground="#424242"
                          HorizontalAlignment="Center"
                          Margin="0,0,0,20"/>
                
                <!-- Compteur -->
                <Border Background="White" 
                        BorderBrush="#2196F3" 
                        BorderThickness="2" 
                        CornerRadius="8" 
                        Padding="15,10"
                        Visibility="{Binding ElementName=CounterPanel, Path=Visibility}">
                    <StackPanel x:Name="CounterPanel" Visibility="Collapsed">
                        <TextBlock x:Name="CounterText" 
                                   Text="ðŸ“Š 0 documents importÃ©s" 
                                   FontSize="14" 
                                   FontWeight="SemiBold"
                                   Foreground="#2196F3"
                                   HorizontalAlignment="Center"/>
                    </StackPanel>
                </Border>
                
                <Button Content="ðŸ“ Parcourir..."
                        Click="BrowseButton_Click"
                        Height="40"
                        Padding="20,0"
                        FontSize="13"
                        FontWeight="SemiBold"
                        Background="#2196F3"
                        Foreground="White"
                        BorderThickness="0"
                        Cursor="Hand"
                        Margin="0,20,0,0">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border Background="{TemplateBinding Background}" 
                                                CornerRadius="8" 
                                                Padding="{TemplateBinding Padding}">
                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#1976D2"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                </Button>
            </StackPanel>
        </Border>
        
        <!-- Footer avec bouton Fermer -->
        <Button Grid.Row="2" 
                Content="âœ–ï¸ Fermer la fenÃªtre"
                Click="CloseButton_Click"
                Height="45"
                FontSize="14"
                FontWeight="SemiBold"
                Background="#95A5A6"
                Foreground="White"
                BorderThickness="0"
                Cursor="Hand"
                Margin="0,15,0,0">
            <Button.Style>
                <Style TargetType="Button">
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="Button">
                                <Border Background="{TemplateBinding Background}" 
                                        CornerRadius="8">
                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                    <Style.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter Property="Background" Value="#7F8C8D"/>
                        </Trigger>
                    </Style.Triggers>
                </Style>
            </Button.Style>
        </Button>
    </Grid>
</Window>
