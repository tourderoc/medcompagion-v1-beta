<Window x:Class="MedCompanion.Dialogs.AIAssistedOrdonnanceDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="ðŸ¤– Ordonnance assistÃ©e par IA"
        Width="650"
        Height="450"
        WindowStartupLocation="CenterOwner"
        ResizeMode="CanResize"
        Background="#F5F6FA">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="15"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="20"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- En-tÃªte -->
        <Border Grid.Row="0"
                Background="White"
                BorderBrush="#E0E0E0"
                BorderThickness="1"
                CornerRadius="8"
                Padding="15">
            <StackPanel>
                <TextBlock Text="CrÃ©er une ordonnance avec l'IA"
                          FontSize="14"
                          FontWeight="SemiBold"
                          Foreground="#2C3E50"
                          Margin="0,0,0,8"/>

                <TextBlock x:Name="InfoTextBlock"
                          FontSize="11"
                          Foreground="#7F8C8D"
                          TextWrapping="Wrap"
                          Text="DÃ©crivez l'ordonnance souhaitÃ©e en langage naturel. L'IA dÃ©terminera automatiquement le type (mÃ©dicaments, IDE, biologie) et gÃ©nÃ©rera l'ordonnance au format appropriÃ©."/>
            </StackPanel>
        </Border>

        <!-- Zone de saisie -->
        <Border Grid.Row="2"
                Background="White"
                BorderBrush="#E0E0E0"
                BorderThickness="1"
                CornerRadius="8"
                Padding="15">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="10"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <TextBlock Grid.Row="0"
                          Text="Votre demande :"
                          FontSize="12"
                          FontWeight="SemiBold"
                          Foreground="#2C3E50"/>

                <TextBox x:Name="DemandeTextBox"
                        Grid.Row="2"
                        TextWrapping="Wrap"
                        AcceptsReturn="True"
                        VerticalScrollBarVisibility="Auto"
                        FontSize="12"
                        Padding="10"
                        BorderBrush="#BDC3C7"
                        BorderThickness="1"
                        Background="White">
                    <TextBox.Style>
                        <Style TargetType="TextBox">
                            <Style.Triggers>
                                <Trigger Property="IsFocused" Value="True">
                                    <Setter Property="BorderBrush" Value="#3498DB"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </TextBox.Style>
                </TextBox>

                <!-- Placeholder text -->
                <TextBlock Grid.Row="2"
                          IsHitTestVisible="False"
                          Text="Exemples :&#x0a;â€¢ Bilan thyroÃ¯dien complet avec TSH, T3, T4&#x0a;â€¢ Soins infirmiers pour pansement plaie chronique, 3 fois par semaine&#x0a;â€¢ Risperdal 2mg pour traitement de l'anxiÃ©tÃ©"
                          VerticalAlignment="Top"
                          HorizontalAlignment="Left"
                          Margin="15,15,15,0"
                          FontSize="11"
                          Foreground="#95A5A6"
                          TextWrapping="Wrap">
                    <TextBlock.Style>
                        <Style TargetType="TextBlock">
                            <Setter Property="Visibility" Value="Collapsed"/>
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding Text, ElementName=DemandeTextBox}" Value="">
                                    <Setter Property="Visibility" Value="Visible"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </TextBlock.Style>
                </TextBlock>
            </Grid>
        </Border>

        <!-- Boutons d'action -->
        <StackPanel Grid.Row="4" Orientation="Horizontal" HorizontalAlignment="Right">
            <Button x:Name="CancelButton"
                    Content="Annuler"
                    Width="120"
                    Height="38"
                    Margin="0,0,10,0"
                    Background="#95A5A6"
                    Foreground="White"
                    FontSize="12"
                    FontWeight="SemiBold"
                    BorderThickness="0"
                    Click="CancelButton_Click">
                <Button.Style>
                    <Style TargetType="Button">
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="Button">
                                    <Border Background="{TemplateBinding Background}" CornerRadius="6">
                                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                    </Border>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                        <Style.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#7F8C8D"/>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </Button.Style>
            </Button>

            <Button x:Name="GenerateButton"
                    Content="ðŸ¤– GÃ©nÃ©rer"
                    Width="120"
                    Height="38"
                    Background="#3498DB"
                    Foreground="White"
                    FontSize="12"
                    FontWeight="SemiBold"
                    BorderThickness="0"
                    Click="GenerateButton_Click">
                <Button.Style>
                    <Style TargetType="Button">
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="Button">
                                    <Border Background="{TemplateBinding Background}" CornerRadius="6">
                                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                    </Border>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                        <Style.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#2980B9"/>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </Button.Style>
            </Button>
        </StackPanel>
    </Grid>
</Window>
